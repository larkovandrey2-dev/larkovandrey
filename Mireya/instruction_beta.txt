МИРЕЯ ИЗМЕНИТ ЭТОТ МИР!

код на бота - папочка bot:
    handlers - обработка сообщений от разных групп пользователей
    models - лежит спит наша линейная регрессия
    services - бомба-пушка папочка: database.py - класс для работы с бд, все методы в одном месте, удоюно использовать
                                    api.py - общение с апи: один метод на все запросы; стандартная отдача, разные типы запросов - все это и не только там
    utils - всякие маленькие полезные функции
    config.py - константы и динамический путь до модельки чтобы и на калькуляторе работало нормально
    main.py - входим в мирею отсюда с парадного входа
    states.py - состояния для бота, конечный(конченный) автомат состояний: при старте чтобы выбрать свой sex, возраст и всякое
код на api - папочка api:
дал джазу через pydantic - валидация входных данных, прочитал что так делают крутые парни(такие как мы)
методы удобнее
вывод всегда теперь есть статус, чтобы понимать где и что отрыгнуло перед защитой(ну или во время)
эндпоинт api/heatlh - проверяем жива ли наша шайтан машина(потом можно будет автоматически перезагружать если наша империя упала)
ну и на сладкое, теперь если в конце опроса пишем дичь, все считается в Other(да это было поменять пару строк, но тоже хайп)

Файлик database_scripts.py вне папок пока что сотавляю здесь, пока творение Влада слишком крутое для пользователей миреи, обязательно дойдет время и до него

Короче теперь можно не лазить в говно коде в одном файле, чтобы посмотреть где баг, а говно код распихан по файлам и пытается стать уже взрослым мускулинным кодом.


Запускаем так:
из корня проекта пишем uvicorn api.main:app --reload
если все зеленое идем дальше, если нет - вспоминаем меня добрым словом и ждем фикса
потом запускаем файлик bot/main.py

Пока еще принтами вывод засирается при работе, это дебаггинг прошу уважать, потом все в логи спрячу